{"version":3,"sources":["icons/index.js","components/Icon/index.jsx","components/Dialog/Item/index.jsx","components/Dialog/Title/index.jsx","components/Dialog/reducer.js","data.js","components/Dialog/index.jsx","components/Dialog/helpers.js","components/Sender/index.jsx","components/Header/UserInfo/index.jsx","context.js","components/Header/Theme/index.jsx","components/Header/index.jsx","App.js","helpers/theme.js","index.jsx"],"names":["MessageReaded","MessageSended","Icon","size","name","className","Array","width","height","icons","icon","viewBox","classNames","dangerouslySetInnerHTML","__html","Item","isReverse","isRemovable","messages","avatar","onRemove","onRemoveHandle","event","id","currentTarget","dataset","reverse","removable","src","alt","map","item","text","dayjs","date","format","status","data-id","onClick","extend","Calendar","Title","calendar","sameDay","lastWeek","sameElse","reducer","state","action","type","filter","message","payload","concat","Error","dialog","is","Dialog","newMessage","dialogRef","useRef","useReducer","data","dispatch","useEffect","setTimeout","current","scrollTop","scrollHeight","length","normalizedDialog","newDialog","forEach","i","diff","push","position","normalizeDialog","ref","key","Sender","onAddMessage","useState","value","setValue","onSubmit","preventDefault","Date","now","toISOString","placeholder","onChange","target","required","UserInfo","AppContext","createContext","Theme","useContext","theme","toggleTheme","data-theme","Header","App","addMessage","localStorage","getItem","setItem","document","body","classList","add","remove","setTheme","Provider","WebFontLoader","load","google","families","locale","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c05a1af7.chunk.js","sourcesContent":["export const MessageReaded = [\r\n  `<path \r\n\t\td=\"M773.495 279.073l-61.528-61.528-276.876 276.876 61.528 61.528 276.876-276.876zM958.077 217.545l-461.46 465.855-184.584-184.584-61.528 61.528 246.112 246.112 527.383-527.383-65.923-61.528zM0 560.344l246.112 246.112 61.528-61.528-246.112-246.112-61.528 61.528z\"\r\n\t/>`,\r\n  \"0 0 1024 1024\",\r\n];\r\n\r\nexport const MessageSended = [\r\n  `<path \r\n\t\td=\"M958.077 217.545l-461.46 465.855-184.584-184.584-61.528 61.528 246.112 246.112 527.383-527.383-65.923-61.528zM0 560.344v0z\"\r\n\t/>`,\r\n  \"0 0 1024 1024\",\r\n];\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\nimport * as icons from \"../../icons\";\r\n\r\nconst Icon = ({ size = 20, name, className = \"\" }) => {\r\n  const [width, height] = size instanceof Array ? size : [size, size];\r\n  const [icon, viewBox] = icons[name];\r\n\r\n  return (\r\n    <svg\r\n      className={classNames(\"icon\", className)}\r\n      width={width}\r\n      height={height}\r\n      dangerouslySetInnerHTML={{ __html: icon }}\r\n      viewBox={viewBox}\r\n    />\r\n  );\r\n};\r\n\r\nIcon.propTypes = {\r\n  size: PropTypes.number,\r\n  name: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default Icon;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport classNames from \"classnames\";\r\nimport dayjs from \"dayjs\";\r\nimport { IoIosTrash } from \"react-icons/io\";\r\nimport Icon from \"../../Icon\";\r\n\r\nimport \"./Item.css\";\r\n\r\nconst Item = ({ isReverse, isRemovable, messages, avatar, onRemove }) => {\r\n  const onRemoveHandle = (event) => {\r\n    const { id } = event.currentTarget.dataset;\r\n    onRemove(+id);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\"item\", {\r\n        reverse: isReverse,\r\n        removable: isRemovable,\r\n      })}\r\n    >\r\n      <img src={avatar} className=\"avatar\" alt=\"Avatar\" />\r\n      <div className=\"list\">\r\n        {messages.map((item) => (\r\n          <div className=\"list-item\" key={item.id}>\r\n            <div className=\"text\">{item.text}</div>\r\n            <div className=\"time\">{dayjs(item.date).format(\"HH:mm\")}</div>\r\n            <Icon\r\n              size={15}\r\n              className=\"message-status\"\r\n              name={\r\n                item.status === \"sended\" ? \"MessageSended\" : \"MessageReaded\"\r\n              }\r\n            />\r\n            <IoIosTrash\r\n              data-id={item.id}\r\n              size={18}\r\n              className=\"remove-message\"\r\n              onClick={onRemoveHandle}\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nItem.propTypes = {\r\n  isReverse: PropTypes.bool.isRequired,\r\n  isRemovable: PropTypes.bool.isRequired,\r\n  avatar: PropTypes.string.isRequired,\r\n  messages: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      text: PropTypes.string.isRequired,\r\n      date: PropTypes.string.isRequired,\r\n      status: PropTypes.oneOf([\"sended\", \"readed\"]),\r\n    })\r\n  ).isRequired,\r\n  onRemove: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Item;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport dayjs from \"dayjs\";\r\nimport Calendar from \"dayjs/plugin/calendar\";\r\nimport \"./Title.css\";\r\n\r\ndayjs.extend(Calendar);\r\n\r\nconst Title = ({ date }) => (\r\n  <div className=\"title\">\r\n    {dayjs(date).calendar(null, {\r\n      sameDay: \"[Today]\",\r\n      lastWeek: \"DD MMMM\",\r\n      sameElse: \"DD MMMM YYYY\",\r\n    })}\r\n  </div>\r\n);\r\n\r\nTitle.propTypes = {\r\n  date: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Title;\r\n","export default function reducer(state, action) {\r\n  switch (action.type) {\r\n    case \"remove-message\":\r\n      return {\r\n        ...state,\r\n        messages: state.messages.filter(\r\n          (message) => message.id !== action.payload\r\n        ),\r\n      };\r\n\r\n    case \"add-message\":\r\n      return {\r\n        ...state,\r\n        messages: state.messages.concat(action.payload),\r\n      };\r\n\r\n    case \"update-status\":\r\n      return {\r\n        ...state,\r\n        messages: state.messages.map((message) => {\r\n          if (message.id === action.payload.id) {\r\n            return {\r\n              ...message,\r\n              status: action.payload.status,\r\n            };\r\n          }\r\n\r\n          return message;\r\n        }),\r\n      };\r\n\r\n    default:\r\n      throw new Error(\"Unknown action type\");\r\n  }\r\n}\r\n","const dialog = [\r\n  {\r\n    avatar:\r\n      \"https://sun9-2.userapi.com/c638729/v638729951/1d0ea/f9V7aJyh6tw.jpg\",\r\n    message: \"Привет\",\r\n    id: 0,\r\n    date: \"2020-10-11T10:09:04.712Z\",\r\n    is: \"her\",\r\n  },\r\n  {\r\n    avatar:\r\n      \"https://sun9-2.userapi.com/c638729/v638729951/1d0ea/f9V7aJyh6tw.jpg\",\r\n    message: \"Как дела?\",\r\n    id: 1,\r\n    date: \"2020-10-11T10:19:04.712Z\",\r\n    is: \"her\",\r\n  },\r\n  {\r\n    avatar:\r\n      \"https://sun9-2.userapi.com/c638729/v638729951/1d0ea/f9V7aJyh6tw.jpg\",\r\n    message: \"Я только приехал с Марса\",\r\n    id: 2,\r\n    date: \"2020-10-11T10:24:04.712Z\",\r\n    is: \"her\",\r\n  },\r\n  {\r\n    avatar:\r\n      \"https://sun9-58.userapi.com/c836638/v836638514/867c/SPMigNB8gw0.jpg\",\r\n    message: \"Привет! Все хорошо, ты как?\",\r\n    id: 3,\r\n    date: \"2020-10-11T11:09:04.712Z\",\r\n    status: \"sended\",\r\n    is: \"my\",\r\n  },\r\n  {\r\n    avatar:\r\n      \"https://sun9-58.userapi.com/c836638/v836638514/867c/SPMigNB8gw0.jpg\",\r\n    message: \"Ааа, да, я слышал\",\r\n    id: 4,\r\n    date: \"2020-10-11T12:09:04.712Z\",\r\n    status: \"sended\",\r\n    is: \"my\",\r\n  },\r\n  {\r\n    avatar:\r\n      \"https://sun9-58.userapi.com/c836638/v836638514/867c/SPMigNB8gw0.jpg\",\r\n    message: \"Круто\",\r\n    id: 5,\r\n    date: \"2020-10-11T13:01:04.712Z\",\r\n    status: \"readed\",\r\n    is: \"my\",\r\n  },\r\n  {\r\n    avatar:\r\n      \"https://sun9-58.userapi.com/c836638/v836638514/867c/SPMigNB8gw0.jpg\",\r\n    message: \"Полет нормальный?\",\r\n    id: 6,\r\n    date: \"2020-10-11T14:09:07.712Z\",\r\n    status: \"readed\",\r\n    is: \"my\",\r\n  },\r\n  {\r\n    avatar:\r\n      \"https://sun9-2.userapi.com/c638729/v638729951/1d0ea/f9V7aJyh6tw.jpg\",\r\n    message: \"Да, все круто. Только никому не говори)\",\r\n    id: 7,\r\n    date: \"2020-10-11T15:09:04.712Z\",\r\n    is: \"her\",\r\n  },\r\n];\r\n\r\nexport default dialog;\r\n","import React, { useReducer, useEffect, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Item from \"./Item\";\r\nimport Title from \"./Title\";\r\n\r\nimport { normalizeDialog } from \"./helpers\";\r\nimport reducer from \"./reducer\";\r\nimport data from \"../../data\";\r\n\r\nimport \"./Dialog.css\";\r\n\r\nconst Dialog = ({ newMessage }) => {\r\n  const dialogRef = useRef();\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    messages: data,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (newMessage) {\r\n      dispatch({\r\n        type: \"add-message\",\r\n        payload: newMessage,\r\n      });\r\n\r\n      setTimeout(() => {\r\n        dispatch({\r\n          type: \"update-status\",\r\n          payload: {\r\n            id: newMessage.id,\r\n            status: \"readed\",\r\n          },\r\n        });\r\n      }, 1000);\r\n    }\r\n  }, [newMessage]);\r\n\r\n  useEffect(() => {\r\n    dialogRef.current.scrollTop = dialogRef.current.scrollHeight;\r\n  }, [state.messages.length]);\r\n\r\n  const onRemove = (id) => {\r\n    dispatch({\r\n      type: \"remove-message\",\r\n      payload: id,\r\n    });\r\n  };\r\n\r\n  const normalizedDialog = normalizeDialog(state.messages);\r\n\r\n  return (\r\n    <div className=\"dialog\">\r\n      <div className=\"overflow\" ref={dialogRef}>\r\n        {normalizedDialog.map((item) =>\r\n          item.type === \"message\" ? (\r\n            <Item {...item} key={item.id} onRemove={onRemove} />\r\n          ) : (\r\n            <Title key={item.id} date={item.date} />\r\n          )\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nDialog.propTypes = {\r\n  newMessage: PropTypes.shape({\r\n    id: PropTypes.number,\r\n  }),\r\n};\r\n\r\nexport default Dialog;\r\n","import dayjs from \"dayjs\";\r\n\r\nexport const normalizeDialog = (dialog) => {\r\n  const newDialog = [];\r\n\r\n  dialog.forEach((item, i) => {\r\n    if (i === 0 || dialog[i - 1]) {\r\n      const first = dayjs((i === 0 ? item : dialog[i - 1]).date);\r\n      const diff = first.diff(item.date, \"day\");\r\n\r\n      if (i === 0 || diff) {\r\n        newDialog.push({\r\n          type: \"title\",\r\n          id: `item-title-${item.id}`,\r\n          date: item.date,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (i === 0 || item.is !== dialog[i - 1].is) {\r\n      newDialog.push({\r\n        type: \"message\",\r\n        id: `item-message-${item.id}`,\r\n        avatar: item.avatar,\r\n        isReverse: item.is === \"my\",\r\n        isRemovable: item.is === \"my\",\r\n        messages: [\r\n          {\r\n            text: item.message,\r\n            status: item.status,\r\n            id: item.id,\r\n            date: item.date,\r\n          },\r\n        ],\r\n      });\r\n    } else {\r\n      const position = newDialog.length - 1;\r\n\r\n      newDialog[position] = {\r\n        ...newDialog[position],\r\n        messages: newDialog[position].messages.concat({\r\n          text: item.message,\r\n          status: item.status,\r\n          id: item.id,\r\n          date: item.date,\r\n        }),\r\n      };\r\n    }\r\n  });\r\n\r\n  return newDialog;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Sender.css\";\r\n\r\nconst Sender = ({ onAddMessage }) => {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const onChange = (event) => setValue(event.target.value);\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    onAddMessage({\r\n      id: Date.now(),\r\n      avatar:\r\n        \"https://sun9-58.userapi.com/c836638/v836638514/867c/SPMigNB8gw0.jpg\",\r\n      message: value,\r\n      date: new Date().toISOString(),\r\n      is: \"my\",\r\n      status: \"sended\",\r\n    });\r\n    setValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <form className=\"sender\" onSubmit={onSubmit}>\r\n      <input\r\n        placeholder=\"Введите сообщение\"\r\n        value={value}\r\n        onChange={onChange}\r\n        required\r\n      />\r\n      <button>Отправить</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nSender.propTypes = {\r\n  onAddMessage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Sender;\r\n","import React from \"react\";\r\nimport \"./UserInfo.css\";\r\n\r\nconst UserInfo = () => (\r\n  <div className=\"user-info\">\r\n    <div className=\"name\">Alex Dev</div>\r\n    <div className=\"status\">\r\n      <span className=\"circle\" />Online\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default UserInfo;\r\n","import { createContext } from \"react\";\r\n\r\nexport const AppContext = createContext();\r\n","import React, { useContext } from \"react\";\r\nimport { AppContext } from \"../../../context\";\r\nimport { IoIosMoon, IoIosSunny } from \"react-icons/io\";\r\nimport \"./Theme.css\";\r\n\r\nconst Theme = () => {\r\n  const { theme, toggleTheme } = useContext(AppContext);\r\n\r\n  const onToggleTheme = (event) => {\r\n    const { theme } = event.currentTarget.dataset;\r\n    toggleTheme(theme);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"theme\"\r\n      data-theme={theme === \"light\" ? \"dark\" : \"light\"}\r\n      onClick={onToggleTheme}\r\n    >\r\n      {theme === \"light\" ? (\r\n        <IoIosMoon size={20} className=\"dark\" />\r\n      ) : (\r\n        <IoIosSunny className=\"yellow\" size={20} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Theme;\r\n","import React from \"react\";\r\nimport UserInfo from \"./UserInfo\";\r\nimport Theme from \"./Theme\";\r\n\r\nimport \"./Header.css\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"header\">\r\n      <UserInfo />\r\n      <Theme />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useState } from \"react\";\n\nimport Dialog from \"./components/Dialog\";\nimport Sender from \"./components/Sender\";\nimport Header from \"./components/Header\";\n\nimport { AppContext } from \"./context\";\nimport { getTheme, setTheme } from \"./helpers/theme\";\n\nconst App = () => {\n  const [message, addMessage] = useState(null);\n  const [theme, toggleTheme] = useState(getTheme());\n\n  useEffect(() => {\n    setTheme(theme)\n  }, [theme])\n\n  return (\n    <AppContext.Provider\n      value={{\n        theme,\n        toggleTheme,\n      }}\n    >\n      <div className=\"container\">\n        <Header />\n        <Dialog newMessage={message} />\n        <Sender onAddMessage={addMessage} />\n      </div>\n    </AppContext.Provider>\n  );\n};\n\nexport default App;\n","export const getTheme = () => {\r\n  return localStorage.getItem(\"application-theme\") || \"dark\";\r\n};\r\n\r\nexport const setTheme = (theme) => {\r\n  localStorage.setItem(\"application-theme\", theme);\r\n\r\n  if (theme === \"dark\") {\r\n    document.body.classList.add(\"dark\");\r\n    document.body.classList.remove(\"light\");\r\n  } else {\r\n    document.body.classList.add(\"light\");\r\n    document.body.classList.remove(\"dark\");\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport WebFontLoader from \"webfontloader\";\nimport dayjs from \"dayjs\";\n\nimport App from \"./App\";\n\nimport \"dayjs/locale/ru\";\nimport \"./css/index.css\";\n\nWebFontLoader.load({\n  google: {\n    families: [\"Open Sans:300,400,700\"],\n  },\n});\n\ndayjs.locale(\"en\");\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}